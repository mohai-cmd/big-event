import{_ as y}from"./PageContainer-DWImXMaQ.js";import{q as E,s as _,g as i,w as a,o,x as s,y as w,J as U,K as x,j as r,aT as p,B as d,bP as B,bQ as b,E as A}from"./index-BXliUMaB.js";import{_ as S,E as R}from"./_plugin-vue_export-helper-6mGAbISy.js";import{E as C}from"./el-progress-BdqXaLgK.js";import"./_baseClone-CeGZqSAh.js";import"./isEqual-B-GJJYfX.js";const D=["src"],N={__name:"UserAvatar",setup(V){const l=E(),t=_(l.userData.user_pic),n=_(),f=c=>{const e=new FileReader;e.readAsDataURL(c.raw),e.onload=()=>{t.value=e.result}},m=async()=>{await b(t.value),A.success("头像上传成功"),await l.getData()};return(c,e)=>{const v=x,g=C,u=R,k=y;return o(),i(k,{title:"更换头像"},{default:a(()=>[s(g,{ref_key:"uploadRef",ref:n,class:"avatar-uploader","show-file-list":!1,"auto-upload":!1,"on-change":f},{default:a(()=>[t.value?(o(),U("img",{key:0,src:t.value,class:"avatar"},null,8,D)):(o(),i(v,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(r(p))]),_:1}))]),_:1},512),e[3]||(e[3]=w("br",null,null,-1)),s(u,{type:"primary",icon:r(p),size:"large",onClick:e[0]||(e[0]=q=>n.value.$el.querySelector("input").click())},{default:a(()=>e[1]||(e[1]=[d("选择图片")])),_:1,__:[1]},8,["icon"]),s(u,{type:"success",icon:r(B),size:"large",onClick:m},{default:a(()=>e[2]||(e[2]=[d("上传头像")])),_:1,__:[2]},8,["icon"])]),_:1,__:[3]})}}},J=S(N,[["__scopeId","data-v-1f931cda"]]);export{J as default};
