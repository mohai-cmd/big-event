import{_ as V}from"./PageContainer-DWImXMaQ.js";import{q as x,s as u,g as k,w as t,o as E,x as e,B as w,bO as y,E as U}from"./index-BXliUMaB.js";import{E as B,a as q}from"./el-form-item-CdL3YhwJ.js";import{E as F}from"./_plugin-vue_export-helper-6mGAbISy.js";import{E as I}from"./el-input-BVRoZA15.js";import"./_baseClone-CeGZqSAh.js";const T={__name:"UserProfile",setup(S){const n=x(),{id:i,nickname:p,email:d,username:_}=n.userData,a=u({id:i,nickname:p,email:d,username:_}),f={nickname:[{required:!0,message:"昵称不能为空",trigger:"blur"},{min:2,max:10,message:"昵称长度必须在2到10位之间",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]},s=u(),c=async()=>{await s.value.validate(),await y(a.value),U.success("修改成功"),await n.getData()};return(C,l)=>{const m=I,r=q,g=F,b=B,v=V;return E(),k(v,{title:"个人资料"},{default:t(()=>[e(b,{model:a.value,rules:f,"label-width":"120px",ref_key:"formRef",ref:s,style:{"max-width":"600px",margin:"20px auto"}},{default:t(()=>[e(r,{label:"登录名称"},{default:t(()=>[e(m,{modelValue:a.value.username,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(m,{modelValue:a.value.nickname,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(m,{modelValue:a.value.email,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(g,{type:"primary",onClick:c},{default:t(()=>l[3]||(l[3]=[w("提交修改")])),_:1,__:[3]})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{T as default};
