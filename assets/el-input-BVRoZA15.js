import{c1 as xe,b_ as we,b7 as oe,c2 as Le,b5 as tt,b0 as nt,b6 as at,c3 as ot,aD as Me,e as Se,b as Ae,H as j,m as st,d as ee,F as Ce,aG as lt,c as h,bC as rt,a2 as Be,au as Y,s as A,t as G,U as te,aB as Ee,a3 as k,_ as it,a as He,c4 as ut,N as ct,u as Ie,az as dt,c5 as pt,c6 as ft,aj as vt,ai as mt,P as ht,R as gt,J as S,o as m,Z as y,a5 as ne,y as T,h as x,j as o,r as _,g as E,w as L,k as U,K as M,L as Pe,x as yt,aF as bt,a4 as xt,by as wt,al as W,n as Ne,f as ze,l as St}from"./index-BXliUMaB.js";import{i as $e,k as Ct,l as Et,m as It,u as Pt,f as Nt,c as zt,e as Ft,d as Fe}from"./_plugin-vue_export-helper-6mGAbISy.js";function Tt(e){return e}function kt(e,a,l){switch(l.length){case 0:return e.call(a);case 1:return e.call(a,l[0]);case 2:return e.call(a,l[0],l[1]);case 3:return e.call(a,l[0],l[1],l[2])}return e.apply(a,l)}var Vt=800,Ot=16,Rt=Date.now;function Lt(e){var a=0,l=0;return function(){var n=Rt(),s=Ot-(n-l);if(l=n,s>0){if(++a>=Vt)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function Mt(e){return function(){return e}}var At=xe?function(e,a){return xe(e,"toString",{configurable:!0,enumerable:!1,value:Mt(a),writable:!0})}:Tt,Bt=Lt(At),Te=Math.max;function Ht(e,a,l){return a=Te(a===void 0?e.length-1:a,0),function(){for(var n=arguments,s=-1,c=Te(n.length-a,0),i=Array(c);++s<c;)i[s]=n[a+s];s=-1;for(var u=Array(a+1);++s<a;)u[s]=n[s];return u[a]=l(i),kt(e,this,u)}}var ke=we?we.isConcatSpreadable:void 0;function $t(e){return oe(e)||$e(e)||!!(ke&&e&&e[ke])}function Dt(e,a,l,n,s){var c=-1,i=e.length;for(l||(l=$t),s||(s=[]);++c<i;){var u=e[c];l(u)?Ct(s,u):s[s.length]=u}return s}function Kt(e){var a=e==null?0:e.length;return a?Dt(e):[]}function _t(e){return Bt(Ht(e,void 0,Kt),e+"")}function bn(){if(!arguments.length)return[];var e=arguments[0];return oe(e)?e:[e]}function Ut(e,a){return e!=null&&a in Object(e)}function Wt(e,a,l){a=Le(a,e);for(var n=-1,s=a.length,c=!1;++n<s;){var i=tt(a[n]);if(!(c=e!=null&&l(e,i)))break;e=e[i]}return c||++n!=s?c:(s=e==null?0:e.length,!!s&&Et(s)&&nt(i,s)&&(oe(e)||$e(e)))}function Yt(e,a){return e!=null&&Wt(e,a,Ut)}function Gt(e,a,l){for(var n=-1,s=a.length,c={};++n<s;){var i=a[n],u=at(e,i);l(u,i)&&ot(c,Le(i,e),u)}return c}function Xt(e,a){return Gt(e,a,function(l,n){return Yt(e,n)})}var Zt=_t(function(e,a){return e==null?{}:Xt(e,a)});const ae="update:modelValue",Ve="change",Oe="input",Jt=()=>Me&&/firefox/i.test(window.navigator.userAgent);let w;const qt={height:"0",visibility:"hidden",overflow:Jt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Qt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function jt(e){const a=window.getComputedStyle(e),l=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),s=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:Qt.map(i=>[i,a.getPropertyValue(i)]),paddingSize:n,borderSize:s,boxSizing:l}}function Re(e,a=1,l){var n;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:s,borderSize:c,boxSizing:i,contextStyle:u}=jt(e);u.forEach(([g,P])=>w==null?void 0:w.style.setProperty(g,P)),Object.entries(qt).forEach(([g,P])=>w==null?void 0:w.style.setProperty(g,P,"important")),w.value=e.value||e.placeholder||"";let p=w.scrollHeight;const b={};i==="border-box"?p=p+c:i==="content-box"&&(p=p-s),w.value="";const v=w.scrollHeight-s;if(Se(a)){let g=v*a;i==="border-box"&&(g=g+s+c),p=Math.max(g,p),b.minHeight=`${g}px`}if(Se(l)){let g=v*l;i==="border-box"&&(g=g+s+c),p=Math.min(g,p)}return b.height=`${p}px`,(n=w.parentNode)==null||n.removeChild(w),w=void 0,b}const en=Ae({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),tn=e=>Zt(en,e),nn=Ae({id:{type:String,default:void 0},size:lt,disabled:Boolean,modelValue:{type:ee([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ee([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ce},prefixIcon:{type:Ce},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ee([Object,Array,String]),default:()=>st({})},autofocus:Boolean,rows:{type:Number,default:2},...tn(["ariaLabel"])}),an={[ae]:e=>j(e),input:e=>j(e),change:e=>j(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},on=["class","style"],sn=/^on[A-Z]/,ln=(e={})=>{const{excludeListeners:a=!1,excludeKeys:l}=e,n=h(()=>((l==null?void 0:l.value)||[]).concat(on)),s=Be();return s?h(()=>{var c;return rt(Object.entries((c=s.proxy)==null?void 0:c.$attrs).filter(([i])=>!n.value.includes(i)&&!(a&&sn.test(i))))}):h(()=>({}))};function rn(e,{beforeFocus:a,afterFocus:l,beforeBlur:n,afterBlur:s}={}){const c=Be(),{emit:i}=c,u=Y(),p=It("disabled"),b=A(!1),v=f=>{Ee(a)&&a(f)||b.value||(b.value=!0,i("focus",f),l==null||l())},g=f=>{var r;Ee(n)&&n(f)||f.relatedTarget&&((r=u.value)!=null&&r.contains(f.relatedTarget))||(b.value=!1,i("blur",f),s==null||s())},P=()=>{var f,r;(f=u.value)!=null&&f.contains(document.activeElement)&&u.value!==document.activeElement||p.value||(r=e.value)==null||r.focus()};return G([u,p],([f,r])=>{f&&(r?f.removeAttribute("tabindex"):f.setAttribute("tabindex","-1"))}),te(u,"focus",v,!0),te(u,"blur",g,!0),te(u,"click",P,!0),{isFocused:b,wrapperRef:u,handleFocus:v,handleBlur:g}}const un=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function cn({afterComposition:e,emit:a}){const l=A(!1),n=u=>{a==null||a("compositionstart",u),l.value=!0},s=u=>{var p;a==null||a("compositionupdate",u);const b=(p=u.target)==null?void 0:p.value,v=b[b.length-1]||"";l.value=!un(v)},c=u=>{a==null||a("compositionend",u),l.value&&(l.value=!1,k(()=>e(u)))};return{isComposing:l,handleComposition:u=>{u.type==="compositionend"?c(u):s(u)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:c}}function dn(e){let a;function l(){if(e.value==null)return;const{selectionStart:s,selectionEnd:c,value:i}=e.value;if(s==null||c==null)return;const u=i.slice(0,Math.max(0,s)),p=i.slice(Math.max(0,c));a={selectionStart:s,selectionEnd:c,value:i,beforeTxt:u,afterTxt:p}}function n(){if(e.value==null||a==null)return;const{value:s}=e.value,{beforeTxt:c,afterTxt:i,selectionStart:u}=a;if(c==null||i==null||u==null)return;let p=s.length;if(s.endsWith(i))p=s.length-i.length;else if(s.startsWith(c))p=c.length;else{const b=c[u-1],v=s.indexOf(b,u-1);v!==-1&&(p=v+1)}e.value.setSelectionRange(p,p)}return[l,n]}const pn="ElInput",fn=He({name:pn,inheritAttrs:!1}),vn=He({...fn,props:nn,emits:an,setup(e,{expose:a,emit:l}){const n=e,s=ut(),c=ln(),i=ct(),u=h(()=>[n.type==="textarea"?X.b():r.b(),r.m(P.value),r.is("disabled",f.value),r.is("exceed",Ye.value),{[r.b("group")]:i.prepend||i.append,[r.m("prefix")]:i.prefix||n.prefixIcon,[r.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[r.bm("suffix","password-clear")]:K.value&&J.value,[r.b("hidden")]:n.type==="hidden"},s.class]),p=h(()=>[r.e("wrapper"),r.is("focus",D.value)]),{form:b,formItem:v}=zt(),{inputId:g}=Ft(n,{formItemContext:v}),P=Pt(),f=Nt(),r=Ie("input"),X=Ie("textarea"),B=Y(),C=Y(),Z=A(!1),H=A(!1),se=A(),$=Y(n.inputStyle),N=h(()=>B.value||C.value),{wrapperRef:De,isFocused:D,handleFocus:Ke,handleBlur:_e}=rn(N,{beforeFocus(){return f.value},afterBlur(){var t;n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"blur").catch(d=>Fe()))}}),le=h(()=>{var t;return(t=b==null?void 0:b.statusIcon)!=null?t:!1}),V=h(()=>(v==null?void 0:v.validateState)||""),re=h(()=>V.value&&dt[V.value]),Ue=h(()=>H.value?pt:ft),We=h(()=>[s.style]),ie=h(()=>[n.inputStyle,$.value,{resize:n.resize}]),I=h(()=>vt(n.modelValue)?"":String(n.modelValue)),K=h(()=>n.clearable&&!f.value&&!n.readonly&&!!I.value&&(D.value||Z.value)),J=h(()=>n.showPassword&&!f.value&&!!I.value&&(!!I.value||D.value)),z=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!f.value&&!n.readonly&&!n.showPassword),q=h(()=>I.value.length),Ye=h(()=>!!z.value&&q.value>Number(n.maxlength)),Ge=h(()=>!!i.suffix||!!n.suffixIcon||K.value||n.showPassword||z.value||!!V.value&&le.value),[ue,ce]=dn(B);mt(C,t=>{if(Xe(),!z.value||n.resize!=="both")return;const d=t[0],{width:F}=d.contentRect;se.value={right:`calc(100% - ${F+15+6}px)`}});const O=()=>{const{type:t,autosize:d}=n;if(!(!Me||t!=="textarea"||!C.value))if(d){const F=ze(d)?d.minRows:void 0,ye=ze(d)?d.maxRows:void 0,be=Re(C.value,F,ye);$.value={overflowY:"hidden",...be},k(()=>{C.value.offsetHeight,$.value=be})}else $.value={minHeight:Re(C.value).minHeight}},Xe=(t=>{let d=!1;return()=>{var F;if(d||!n.autosize)return;((F=C.value)==null?void 0:F.offsetParent)===null||(t(),d=!0)}})(O),R=()=>{const t=N.value,d=n.formatter?n.formatter(I.value):I.value;!t||t.value===d||(t.value=d)},Q=async t=>{ue();let{value:d}=t.target;if(n.formatter&&n.parser&&(d=n.parser(d)),!pe.value){if(d===I.value){R();return}l(ae,d),l(Oe,d),await k(),R(),ce()}},de=t=>{let{value:d}=t.target;n.formatter&&n.parser&&(d=n.parser(d)),l(Ve,d)},{isComposing:pe,handleCompositionStart:fe,handleCompositionUpdate:ve,handleCompositionEnd:me}=cn({emit:l,afterComposition:Q}),Ze=()=>{ue(),H.value=!H.value,setTimeout(ce)},Je=()=>{var t;return(t=N.value)==null?void 0:t.focus()},qe=()=>{var t;return(t=N.value)==null?void 0:t.blur()},Qe=t=>{Z.value=!1,l("mouseleave",t)},je=t=>{Z.value=!0,l("mouseenter",t)},he=t=>{l("keydown",t)},et=()=>{var t;(t=N.value)==null||t.select()},ge=()=>{l(ae,""),l(Ve,""),l("clear"),l(Oe,"")};return G(()=>n.modelValue,()=>{var t;k(()=>O()),n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"change").catch(d=>Fe()))}),G(I,()=>R()),G(()=>n.type,async()=>{await k(),R(),O()}),ht(()=>{!n.formatter&&n.parser,R(),k(O)}),a({input:B,textarea:C,ref:N,textareaStyle:ie,autosize:gt(n,"autosize"),isComposing:pe,focus:Je,blur:qe,select:et,clear:ge,resizeTextarea:O}),(t,d)=>(m(),S("div",{class:x([o(u),{[o(r).bm("group","append")]:t.$slots.append,[o(r).bm("group","prepend")]:t.$slots.prepend}]),style:Ne(o(We)),onMouseenter:je,onMouseleave:Qe},[y(" input "),t.type!=="textarea"?(m(),S(ne,{key:0},[y(" prepend slot "),t.$slots.prepend?(m(),S("div",{key:0,class:x(o(r).be("group","prepend"))},[_(t.$slots,"prepend")],2)):y("v-if",!0),T("div",{ref_key:"wrapperRef",ref:De,class:x(o(p))},[y(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),S("span",{key:0,class:x(o(r).e("prefix"))},[T("span",{class:x(o(r).e("prefix-inner"))},[_(t.$slots,"prefix"),t.prefixIcon?(m(),E(o(M),{key:0,class:x(o(r).e("icon"))},{default:L(()=>[(m(),E(U(t.prefixIcon)))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0),T("input",Pe({id:o(g),ref_key:"input",ref:B,class:o(r).e("inner")},o(c),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?H.value?"text":"password":t.type,disabled:o(f),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:o(fe),onCompositionupdate:o(ve),onCompositionend:o(me),onInput:Q,onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),y(" suffix slot "),o(Ge)?(m(),S("span",{key:1,class:x(o(r).e("suffix"))},[T("span",{class:x(o(r).e("suffix-inner"))},[!o(K)||!o(J)||!o(z)?(m(),S(ne,{key:0},[_(t.$slots,"suffix"),t.suffixIcon?(m(),E(o(M),{key:0,class:x(o(r).e("icon"))},{default:L(()=>[(m(),E(U(t.suffixIcon)))]),_:1},8,["class"])):y("v-if",!0)],64)):y("v-if",!0),o(K)?(m(),E(o(M),{key:1,class:x([o(r).e("icon"),o(r).e("clear")]),onMousedown:xt(o(wt),["prevent"]),onClick:ge},{default:L(()=>[yt(o(bt))]),_:1},8,["class","onMousedown"])):y("v-if",!0),o(J)?(m(),E(o(M),{key:2,class:x([o(r).e("icon"),o(r).e("password")]),onClick:Ze},{default:L(()=>[(m(),E(U(o(Ue))))]),_:1},8,["class"])):y("v-if",!0),o(z)?(m(),S("span",{key:3,class:x(o(r).e("count"))},[T("span",{class:x(o(r).e("count-inner"))},W(o(q))+" / "+W(t.maxlength),3)],2)):y("v-if",!0),o(V)&&o(re)&&o(le)?(m(),E(o(M),{key:4,class:x([o(r).e("icon"),o(r).e("validateIcon"),o(r).is("loading",o(V)==="validating")])},{default:L(()=>[(m(),E(U(o(re))))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0)],2),y(" append slot "),t.$slots.append?(m(),S("div",{key:1,class:x(o(r).be("group","append"))},[_(t.$slots,"append")],2)):y("v-if",!0)],64)):(m(),S(ne,{key:1},[y(" textarea "),T("textarea",Pe({id:o(g),ref_key:"textarea",ref:C,class:[o(X).e("inner"),o(r).is("focus",o(D))]},o(c),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:o(f),readonly:t.readonly,autocomplete:t.autocomplete,style:o(ie),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:o(fe),onCompositionupdate:o(ve),onCompositionend:o(me),onInput:Q,onFocus:o(Ke),onBlur:o(_e),onChange:de,onKeydown:he}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(z)?(m(),S("span",{key:0,style:Ne(se.value),class:x(o(r).e("count"))},W(o(q))+" / "+W(t.maxlength),7)):y("v-if",!0)],64))],38))}});var mn=it(vn,[["__file","input.vue"]]);const xn=St(mn);export{Ve as C,xn as E,ae as U,rn as a,tn as b,bn as c,Dt as d,Yt as h,Tt as i,Ht as o,Zt as p,Bt as s,cn as u};
